'use client'

import { useState, useEffect } from 'react'
import { Card } from '@/components/ui/card'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { Badge } from '@/components/ui/badge'
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'
import {
	Search,
	Clock,
	Smile,
	Users,
	Heart,
	Coffee,
	Gamepad2,
	MapPin,
	Flag,
	Palette,
	Download
} from 'lucide-react'
import { toast } from 'sonner'
import { cn } from '@/lib/utils'

interface EmojiCategory {
	id: string
	name: string
	icon: React.ReactNode
	emojis: string[]
}

const emojiCategories: EmojiCategory[] = [
	{
		id: 'smileys',
		name: 'Smileys & People',
		icon: <Smile className='w-4 h-4' />,
		emojis: [
			'😀',
			'😃',
			'😄',
			'😁',
			'😆',
			'😅',
			'🤣',
			'😂',
			'🙂',
			'🙃',
			'🫠',
			'😉',
			'😊',
			'😇',
			'🥰',
			'😍',
			'🤩',
			'😘',
			'😗',
			'☺️',
			'😚',
			'😙',
			'🥲',
			'😋',
			'😛',
			'😜',
			'🤪',
			'😝',
			'🤑',
			'🤗',
			'🤭',
			'🫢',
			'🫣',
			'🤫',
			'🤔',
			'🫡',
			'🤐',
			'🤨',
			'😐',
			'😑',
			'😶',
			'🫥',
			'😶‍🌫️',
			'😏',
			'😒',
			'🙄',
			'😬',
			'😮‍💨',
			'🤥',
			'🫨',
			'🙂‍↔️',
			'🙂‍↕️',
			'😌',
			'😔',
			'😪',
			'🤤',
			'😴',
			'😷',
			'🤒',
			'🤕',
			'🤢',
			'🤮',
			'🤧',
			'🥵',
			'🥶',
			'🥴',
			'😵',
			'😵‍💫',
			'🤯',
			'🤠',
			'🥳',
			'🥸',
			'😎',
			'🤓',
			'🧐',
			'😕',
			'🫤',
			'😟',
			'🙁',
			'☹️',
			'😮',
			'😯',
			'😲',
			'😳',
			'🥺',
			'🥹',
			'😦',
			'😧',
			'😨',
			'😰',
			'😥',
			'😢',
			'😭',
			'😱',
			'😖',
			'😣',
			'😞',
			'😓',
			'😩',
			'😫',
			'🥱',
			'😤',
			'😡',
			'😠',
			'🤬',
			'😈',
			'👿',
			'💀',
			'☠️',
			'💩',
			'🤡',
			'👹',
			'👺',
			'👻',
			'👽',
			'👾',
			'🤖',
			'😺',
			'😸',
			'😹',
			'😻',
			'😼',
			'😽',
			'🙀',
			'😿',
			'😾',
			'🙈',
			'🙉',
			'🙊',
			'💋',
			'💌',
			'💘',
			'💝',
			'💖',
			'💗',
			'💓',
			'💞',
			'💕',
			'💟',
			'❣️',
			'💔',
			'❤️‍🔥',
			'❤️‍🩹',
			'❤️',
			'🧡',
			'💛',
			'💚',
			'💙',
			'💜',
			'🤎',
			'🖤',
			'🤍',
			'💯',
			'💢',
			'💥',
			'💫',
			'💦',
			'💨',
			'🕳️',
			'💣',
			'💬',
			'👁️‍🗨️',
			'🗨️',
			'🗯️',
			'💭',
			'💤'
		]
	},
	{
		id: 'people',
		name: 'People & Body',
		icon: <Users className='w-4 h-4' />,
		emojis: [
			'👋',
			'🤚',
			'🖐️',
			'✋',
			'🖖',
			'🫱',
			'🫲',
			'🫳',
			'🫴',
			'🫷',
			'🫸',
			'👌',
			'🤌',
			'🤏',
			'✌️',
			'🤞',
			'🫰',
			'🤟',
			'🤘',
			'🤙',
			'👈',
			'👉',
			'👆',
			'🖕',
			'👇',
			'☝️',
			'🫵',
			'👍',
			'👎',
			'✊',
			'👊',
			'🤛',
			'🤜',
			'👏',
			'🙌',
			'🫶',
			'👐',
			'🤲',
			'🤝',
			'🙏',
			'✍️',
			'💅',
			'🤳',
			'💪',
			'🦾',
			'🦿',
			'🦵',
			'🦶',
			'👂',
			'🦻',
			'👃',
			'🧠',
			'🫀',
			'🫁',
			'🦷',
			'🦴',
			'👀',
			'👁️',
			'👅',
			'👄',
			'🫦',
			'👶',
			'🧒',
			'👦',
			'👧',
			'🧑',
			'👱',
			'👨',
			'🧔',
			'🧔‍♂️',
			'🧔‍♀️',
			'👨‍🦰',
			'👨‍🦱',
			'👨‍🦳',
			'👨‍🦲',
			'👩',
			'👩‍🦰',
			'🧑‍🦰',
			'👩‍🦱',
			'🧑‍🦱',
			'👩‍🦳',
			'🧑‍🦳',
			'👩‍🦲',
			'🧑‍🦲',
			'👱‍♀️',
			'👱‍♂️',
			'🧓',
			'👴',
			'👵',
			'🙍',
			'🙍‍♂️',
			'🙍‍♀️',
			'🙎',
			'🙎‍♂️',
			'🙎‍♀️',
			'🙅',
			'🙅‍♂️',
			'🙅‍♀️',
			'🙆',
			'🙆‍♂️',
			'🙆‍♀️',
			'💁',
			'💁‍♂️',
			'💁‍♀️',
			'🙋',
			'🙋‍♂️',
			'🙋‍♀️',
			'🧏',
			'🧏‍♂️',
			'🧏‍♀️',
			'🙇',
			'🙇‍♂️',
			'🙇‍♀️',
			'🤦',
			'🤦‍♂️',
			'🤦‍♀️',
			'🤷',
			'🤷‍♂️',
			'🤷‍♀️',
			'🧑‍⚕️',
			'👨‍⚕️',
			'👩‍⚕️',
			'🧑‍🎓',
			'👨‍🎓',
			'👩‍🎓',
			'🧑‍🏫',
			'👨‍🏫',
			'👩‍🏫',
			'🧑‍⚖️',
			'👨‍⚖️',
			'👩‍⚖️',
			'🧑‍🌾',
			'👨‍🌾',
			'👩‍🌾',
			'🧑‍🍳',
			'👨‍🍳',
			'👩‍🍳',
			'🧑‍🔧',
			'👨‍🔧',
			'👩‍🔧',
			'🧑‍🏭',
			'👨‍🏭',
			'👩‍🏭',
			'🧑‍💼',
			'👨‍💼',
			'👩‍💼',
			'🧑‍🔬',
			'👨‍🔬',
			'👩‍🔬',
			'🧑‍💻',
			'👨‍💻',
			'👩‍💻',
			'🧑‍🎤',
			'👨‍🎤',
			'👩‍🎤',
			'🧑‍🎨',
			'👨‍🎨',
			'👩‍🎨',
			'🧑‍✈️',
			'👨‍✈️',
			'👩‍✈️',
			'🧑‍🚀',
			'👨‍🚀',
			'👩‍🚀',
			'🧑‍🚒',
			'👨‍🚒',
			'👩‍🚒',
			'👮',
			'👮‍♂️',
			'👮‍♀️',
			'🕵️',
			'🕵️‍♂️',
			'🕵️‍♀️',
			'💂',
			'💂‍♂️',
			'💂‍♀️',
			'🥷',
			'👷',
			'👷‍♂️',
			'👷‍♀️',
			'🫅',
			'🤴',
			'👸',
			'👳',
			'👳‍♂️',
			'👳‍♀️',
			'👲',
			'🧕',
			'🤵',
			'🤵‍♂️',
			'🤵‍♀️',
			'👰',
			'👰‍♂️',
			'👰‍♀️',
			'🤰',
			'🫃',
			'🫄',
			'🤱',
			'👩‍🍼',
			'👨‍🍼',
			'🧑‍🍼',
			'👼',
			'🎅',
			'🤶',
			'🧑‍🎄',
			'🦸',
			'🦸‍♂️',
			'🦸‍♀️',
			'🦹',
			'🦹‍♂️',
			'🦹‍♀️',
			'🧙',
			'🧙‍♂️',
			'🧙‍♀️',
			'🧚',
			'🧚‍♂️',
			'🧚‍♀️',
			'🧛',
			'🧛‍♂️',
			'🧛‍♀️',
			'🧜',
			'🧜‍♂️',
			'🧜‍♀️',
			'🧝',
			'🧝‍♂️',
			'🧝‍♀️',
			'🧞',
			'🧞‍♂️',
			'🧞‍♀️',
			'🧟',
			'🧟‍♂️',
			'🧟‍♀️',
			'🧌',
			'💆',
			'💆‍♂️',
			'💆‍♀️',
			'💇',
			'💇‍♂️',
			'💇‍♀️',
			'🚶',
			'🚶‍♂️',
			'🚶‍♀️',
			'🧍',
			'🧍‍♂️',
			'🧍‍♀️',
			'🧎',
			'🧎‍♂️',
			'🧎‍♀️',
			'🧑‍🦯',
			'👨‍🦯',
			'👩‍🦯',
			'🧑‍🦼',
			'👨‍🦼',
			'👩‍🦼',
			'🧑‍🦽',
			'👨‍🦽',
			'👩‍🦽',
			'🏃',
			'🏃‍♂️',
			'🏃‍♀️',
			'💃',
			'🕺',
			'🕴️',
			'👯',
			'👯‍♂️',
			'👯‍♀️',
			'🧖',
			'🧖‍♂️',
			'🧖‍♀️',
			'🧗',
			'🧗‍♂️',
			'🧗‍♀️',
			'🤺',
			'🏇',
			'⛷️',
			'🏂',
			'🏌️',
			'🏌️‍♂️',
			'🏌️‍♀️',
			'🏄',
			'🏄‍♂️',
			'🏄‍♀️',
			'🚣',
			'🚣‍♂️',
			'🚣‍♀️',
			'🏊',
			'🏊‍♂️',
			'🏊‍♀️',
			'⛹️',
			'⛹️‍♂️',
			'⛹️‍♀️',
			'🏋️',
			'🏋️‍♂️',
			'🏋️‍♀️',
			'🚴',
			'🚴‍♂️',
			'🚴‍♀️',
			'🚵',
			'🚵‍♂️',
			'🚵‍♀️',
			'🤸',
			'🤸‍♂️',
			'🤸‍♀️',
			'🤼',
			'🤼‍♂️',
			'🤼‍♀️',
			'🤽',
			'🤽‍♂️',
			'🤽‍♀️',
			'🤾',
			'🤾‍♂️',
			'🤾‍♀️',
			'🤹',
			'🤹‍♂️',
			'🤹‍♀️',
			'🧘',
			'🧘‍♂️',
			'🧘‍♀️',
			'🛀',
			'🛌',
			'🧑‍🤝‍🧑',
			'👭',
			'👫',
			'👬',
			'💏',
			'👩‍❤️‍💋‍👨',
			'👨‍❤️‍💋‍👨',
			'👩‍❤️‍💋‍👩',
			'💑',
			'👩‍❤️‍👨',
			'👨‍❤️‍👨',
			'👩‍❤️‍👩',
			'👪',
			'👨‍👩‍👦',
			'👨‍👩‍👧',
			'👨‍👩‍👧‍👦',
			'👨‍👩‍👦‍👦',
			'👨‍👩‍👧‍👧',
			'👨‍👨‍👦',
			'👨‍👨‍👧',
			'👨‍👨‍👧‍👦',
			'👨‍👨‍👦‍👦',
			'👨‍👨‍👧‍👧',
			'👩‍👩‍👦',
			'👩‍👩‍👧',
			'👩‍👩‍👧‍👦',
			'👩‍👩‍👦‍👦',
			'👩‍👩‍👧‍👧',
			'👨‍👦',
			'👨‍👦‍👦',
			'👨‍👧',
			'👨‍👧‍👦',
			'👨‍👧‍👧',
			'👩‍👦',
			'👩‍👦‍👦',
			'👩‍👧',
			'👩‍👧‍👦',
			'👩‍👧‍👧',
			'🗣️',
			'👤',
			'👥',
			'🫂',
			'👣'
		]
	},
	{
		id: 'animals',
		name: 'Animals & Nature',
		icon: <Heart className='w-4 h-4' />,
		emojis: [
			'🐵',
			'🐒',
			'🦍',
			'🦧',
			'🐶',
			'🐕',
			'🦮',
			'🐕‍🦺',
			'🐩',
			'🐺',
			'🦊',
			'🦝',
			'🐱',
			'🐈',
			'🐈‍⬛',
			'🦁',
			'🐯',
			'🐅',
			'🐆',
			'🐴',
			'🫎',
			'🫏',
			'🐎',
			'🦄',
			'🦓',
			'🦌',
			'🦬',
			'🐮',
			'🐂',
			'🐃',
			'🐄',
			'🐷',
			'🐖',
			'🐗',
			'🐽',
			'🐏',
			'🐑',
			'🐐',
			'🐪',
			'🐫',
			'🦙',
			'🦒',
			'🐘',
			'🦣',
			'🦏',
			'🦛',
			'🐭',
			'🐁',
			'🐀',
			'🐹',
			'🐰',
			'🐇',
			'🐿️',
			'🦫',
			'🦔',
			'🦇',
			'🐻',
			'🐻‍❄️',
			'🐨',
			'🐼',
			'🦥',
			'🦦',
			'🦨',
			'🦘',
			'🦡',
			'🐾',
			'🦃',
			'🐔',
			'🐓',
			'🐣',
			'🐤',
			'🐥',
			'🐦',
			'🐧',
			'🕊️',
			'🦅',
			'🦆',
			'🦢',
			'🦉',
			'🦤',
			'🪶',
			'🦩',
			'🦚',
			'🦜',
			'🪽',
			'🐦‍⬛',
			'🪿',
			'🐸',
			'🐊',
			'🐢',
			'🦎',
			'🐍',
			'🐲',
			'🐉',
			'🦕',
			'🦖',
			'🐳',
			'🐋',
			'🐬',
			'🦭',
			'🐟',
			'🐠',
			'🐡',
			'🦈',
			'🐙',
			'🐚',
			'🪸',
			'🪼',
			'🐌',
			'🦋',
			'🐛',
			'🐜',
			'🐝',
			'🪲',
			'🐞',
			'🦗',
			'🪳',
			'🕷️',
			'🕸️',
			'🦂',
			'🦟',
			'🪰',
			'🪱',
			'🦠',
			'💐',
			'🌸',
			'💮',
			'🪷',
			'🏵️',
			'🌹',
			'🥀',
			'🌺',
			'🌻',
			'🌼',
			'🌷',
			'🪻',
			'🌱',
			'🪴',
			'🌲',
			'🌳',
			'🌴',
			'🌵',
			'🌾',
			'🌿',
			'☘️',
			'🍀',
			'🍁',
			'🍂',
			'🍃',
			'🪹',
			'🪺',
			'🍄'
		]
	},
	{
		id: 'food',
		name: 'Food & Drink',
		icon: <Coffee className='w-4 h-4' />,
		emojis: [
			'🍇',
			'🍈',
			'🍉',
			'🍊',
			'🍋',
			'🍌',
			'🍍',
			'🥭',
			'🍎',
			'🍏',
			'🍐',
			'🍑',
			'🍒',
			'🍓',
			'🫐',
			'🥝',
			'🍅',
			'🫒',
			'🥥',
			'🥑',
			'🍆',
			'🥔',
			'🥕',
			'🌽',
			'🌶️',
			'🫑',
			'🥒',
			'🥬',
			'🥦',
			'🧄',
			'🧅',
			'🍄',
			'🥜',
			'🫘',
			'🌰',
			'🫚',
			'🫛',
			'🍞',
			'🥐',
			'🥖',
			'🫓',
			'🥨',
			'🥯',
			'🥞',
			'🧇',
			'🧀',
			'🍖',
			'🍗',
			'🥩',
			'🥓',
			'🍔',
			'🍟',
			'🍕',
			'🌭',
			'🥪',
			'🌮',
			'🌯',
			'🫔',
			'🥙',
			'🧆',
			'🥚',
			'🍳',
			'🥘',
			'🍲',
			'🫕',
			'🥣',
			'🥗',
			'🍿',
			'🧈',
			'🧂',
			'🥫',
			'🍱',
			'🍘',
			'🍙',
			'🍚',
			'🍛',
			'🍜',
			'🍝',
			'🍠',
			'🍢',
			'🍣',
			'🍤',
			'🍥',
			'🥮',
			'🍡',
			'🥟',
			'🥠',
			'🥡',
			'🦀',
			'🦞',
			'🦐',
			'🦑',
			'🦪',
			'🍦',
			'🍧',
			'🍨',
			'🍩',
			'🍪',
			'🎂',
			'🍰',
			'🧁',
			'🥧',
			'🍫',
			'🍬',
			'🍭',
			'🍮',
			'🍯',
			'🍼',
			'🥛',
			'☕',
			'🫖',
			'🍵',
			'🍶',
			'🍾',
			'🍷',
			'🍸',
			'🍹',
			'🍺',
			'🍻',
			'🥂',
			'🥃',
			'🫗',
			'🥤',
			'🧋',
			'🧃',
			'🧉',
			'🧊',
			'🥢',
			'🍽️',
			'🍴',
			'🥄',
			'🔪',
			'🫙',
			'🏺'
		]
	},
	{
		id: 'activities',
		name: 'Activities',
		icon: <Gamepad2 className='w-4 h-4' />,
		emojis: [
			'⚽',
			'🏀',
			'🏈',
			'⚾',
			'🥎',
			'🎾',
			'🏐',
			'🏉',
			'🥏',
			'🎱',
			'🪀',
			'🏓',
			'🏸',
			'🏒',
			'🏑',
			'🥍',
			'🏏',
			'🪃',
			'🥅',
			'⛳',
			'🪁',
			'🏹',
			'🎣',
			'🤿',
			'🥊',
			'🥋',
			'🎽',
			'🛹',
			'🛼',
			'🛷',
			'⛸️',
			'🥌',
			'🎿',
			'⛷️',
			'🏂',
			'🪂',
			'🏋️',
			'🏋️‍♂️',
			'🏋️‍♀️',
			'🤼',
			'🤼‍♂️',
			'🤼‍♀️',
			'🤸',
			'🤸‍♂️',
			'🤸‍♀️',
			'⛹️',
			'⛹️‍♂️',
			'⛹️‍♀️',
			'🤺',
			'🤾',
			'🤾‍♂️',
			'🤾‍♀️',
			'🏌️',
			'🏌️‍♂️',
			'🏌️‍♀️',
			'🏇',
			'🧘',
			'🧘‍♂️',
			'🧘‍♀️',
			'🏄',
			'🏄‍♂️',
			'🏄‍♀️',
			'🏊',
			'🏊‍♂️',
			'🏊‍♀️',
			'🤽',
			'🤽‍♂️',
			'🤽‍♀️',
			'🚣',
			'🚣‍♂️',
			'🚣‍♀️',
			'🧗',
			'🧗‍♂️',
			'🧗‍♀️',
			'🚵',
			'🚵‍♂️',
			'🚵‍♀️',
			'🚴',
			'🚴‍♂️',
			'🚴‍♀️',
			'🏆',
			'🥇',
			'🥈',
			'🥉',
			'🏅',
			'🎖️',
			'🏵️',
			'🎗️',
			'🎫',
			'🎟️',
			'🎪',
			'🤹',
			'🤹‍♂️',
			'🤹‍♀️',
			'🎭',
			'🩰',
			'🎨',
			'🎬',
			'🎤',
			'🎧',
			'🎼',
			'🎹',
			'🥁',
			'🪘',
			'🎷',
			'🎺',
			'🪗',
			'🎸',
			'🪕',
			'🎻',
			'🪈',
			'🎲',
			'♟️',
			'🎯',
			'🎳',
			'🎮',
			'🎰',
			'🧩'
		]
	},
	{
		id: 'travel',
		name: 'Travel & Places',
		icon: <MapPin className='w-4 h-4' />,
		emojis: [
			'🚗',
			'🚕',
			'🚙',
			'🚌',
			'🚎',
			'🏎️',
			'🚓',
			'🚑',
			'🚒',
			'🚐',
			'🛻',
			'🚚',
			'🚛',
			'🚜',
			'🦯',
			'🦽',
			'🦼',
			'🛴',
			'🚲',
			'🛵',
			'🏍️',
			'🛺',
			'🚨',
			'🚔',
			'🚍',
			'🚘',
			'🚖',
			'🛞',
			'🚡',
			'🚠',
			'🚟',
			'🚃',
			'🚋',
			'🚞',
			'🚝',
			'🚄',
			'🚅',
			'🚈',
			'🚂',
			'🚆',
			'🚇',
			'🚊',
			'🚉',
			'✈️',
			'🛫',
			'🛬',
			'🛩️',
			'💺',
			'🛰️',
			'🚀',
			'🛸',
			'🚁',
			'🛶',
			'⛵',
			'🚤',
			'🛥️',
			'🛳️',
			'⛴️',
			'🚢',
			'⚓',
			'🛟',
			'🪝',
			'⛽',
			'🚧',
			'🚦',
			'🚥',
			'🚏',
			'🗺️',
			'🗿',
			'🗽',
			'🗼',
			'🏰',
			'🏯',
			'🏟️',
			'🎡',
			'🎢',
			'🎠',
			'⛲',
			'⛱️',
			'🏖️',
			'🏝️',
			'🏜️',
			'🌋',
			'⛰️',
			'🏔️',
			'🗻',
			'🏕️',
			'🛖',
			'🏠',
			'🏡',
			'🏘️',
			'🏚️',
			'🏗️',
			'🏭',
			'🏢',
			'🏬',
			'🏣',
			'🏤',
			'🏥',
			'🏦',
			'🏨',
			'🏪',
			'🏫',
			'🏩',
			'💒',
			'🏛️',
			'⛪',
			'🕌',
			'🕍',
			'🛕',
			'🕋',
			'⛩️',
			'🛤️',
			'🛣️',
			'🗾',
			'🎑',
			'🏞️',
			'🌅',
			'🌄',
			'🌠',
			'🎇',
			'🎆',
			'🌇',
			'🌆',
			'🏙️',
			'🌃',
			'🌌',
			'🌉',
			'🌁'
		]
	},
	{
		id: 'objects',
		name: 'Objects',
		icon: <Palette className='w-4 h-4' />,
		emojis: [
			'⌚',
			'📱',
			'📲',
			'💻',
			'⌨️',
			'🖥️',
			'🖨️',
			'🖱️',
			'🖲️',
			'🕹️',
			'🗜️',
			'💽',
			'💾',
			'💿',
			'📀',
			'📼',
			'📷',
			'📸',
			'📹',
			'🎥',
			'📽️',
			'🎞️',
			'📞',
			'☎️',
			'📟',
			'📠',
			'📺',
			'📻',
			'🎙️',
			'🎚️',
			'🎛️',
			'🧭',
			'⏱️',
			'⏲️',
			'⏰',
			'🕰️',
			'⌛',
			'⏳',
			'📡',
			'🔋',
			'🪫',
			'🔌',
			'💡',
			'🔦',
			'🕯️',
			'🪔',
			'🧯',
			'🛢️',
			'💸',
			'💵',
			'💴',
			'💶',
			'💷',
			'🪙',
			'💰',
			'💳',
			'🪪',
			'💎',
			'⚖️',
			'🪜',
			'🧰',
			'🪛',
			'🔧',
			'🔨',
			'⚒️',
			'🛠️',
			'⛏️',
			'🪚',
			'🔩',
			'⚙️',
			'🪤',
			'🧱',
			'⛓️',
			'🧲',
			'🔫',
			'💣',
			'🧨',
			'🪓',
			'🔪',
			'🗡️',
			'⚔️',
			'🛡️',
			'🚬',
			'⚰️',
			'🪦',
			'⚱️',
			'🏺',
			'🔮',
			'📿',
			'🧿',
			'🪬',
			'💈',
			'⚗️',
			'🔭',
			'🔬',
			'🕳️',
			'🩹',
			'🩺',
			'💊',
			'💉',
			'🩸',
			'🧬',
			'🦠',
			'🧫',
			'🧪',
			'🌡️',
			'🧹',
			'🪠',
			'🧺',
			'🧻',
			'🚽',
			'🚰',
			'🚿',
			'🛁',
			'🛀',
			'🧼',
			'🪥',
			'🪒',
			'🧽',
			'🪣',
			'🧴',
			'🛎️',
			'🔑',
			'🗝️',
			'🚪',
			'🪑',
			'🛋️',
			'🛏️',
			'🛌',
			'🧸',
			'🪆',
			'🖼️',
			'🪞',
			'🪟',
			'🛍️',
			'🛒',
			'🎁',
			'🎈',
			'🎏',
			'🎀',
			'🪄',
			'🪅',
			'🎊',
			'🎉',
			'🎎',
			'🏮',
			'🎐',
			'🧧',
			'✉️',
			'📩',
			'📨',
			'📧',
			'💌',
			'📥',
			'📤',
			'📦',
			'🏷️',
			'🪧',
			'📪',
			'📫',
			'📬',
			'📭',
			'📮',
			'📯',
			'📜',
			'📃',
			'📄',
			'📑',
			'🧾',
			'📊',
			'📈',
			'📉',
			'🗒️',
			'🗓️',
			'📆',
			'📅',
			'🗑️',
			'📇',
			'🗃️',
			'🗳️',
			'🗄️',
			'📋',
			'📁',
			'📂',
			'🗂️',
			'🗞️',
			'📰',
			'📓',
			'📔',
			'📒',
			'📕',
			'📗',
			'📘',
			'📙',
			'📚',
			'📖',
			'🔖',
			'🧷',
			'🔗',
			'📎',
			'🖇️',
			'📐',
			'📏',
			'🧮',
			'📌',
			'📍',
			'✂️',
			'🖊️',
			'🖋️',
			'✒️',
			'🖌️',
			'🖍️',
			'📝',
			'✏️',
			'🔍',
			'🔎',
			'🔏',
			'🔐',
			'🔒',
			'🔓'
		]
	},
	{
		id: 'symbols',
		name: 'Symbols',
		icon: <Heart className='w-4 h-4' />,
		emojis: [
			'❤️',
			'🧡',
			'💛',
			'💚',
			'💙',
			'💜',
			'🖤',
			'🤍',
			'🤎',
			'💔',
			'❤️‍🔥',
			'❤️‍🩹',
			'❣️',
			'💕',
			'💞',
			'💓',
			'💗',
			'💖',
			'💘',
			'💝',
			'💟',
			'☮️',
			'✝️',
			'☪️',
			'🕉️',
			'☸️',
			'✡️',
			'🔯',
			'🕎',
			'☯️',
			'☦️',
			'🛐',
			'⛎',
			'♈',
			'♉',
			'♊',
			'♋',
			'♌',
			'♍',
			'♎',
			'♏',
			'♐',
			'♑',
			'♒',
			'♓',
			'🆔',
			'⚛️',
			'🉑',
			'☢️',
			'☣️',
			'📴',
			'📳',
			'🈶',
			'🈚',
			'🈸',
			'🈺',
			'🈷️',
			'✴️',
			'🆚',
			'💮',
			'🉐',
			'㊙️',
			'㊗️',
			'🈴',
			'🈵',
			'🈹',
			'🈲',
			'🅰️',
			'🅱️',
			'🆎',
			'🆑',
			'🅾️',
			'🆘',
			'❌',
			'⭕',
			'🛑',
			'⛔',
			'📛',
			'🚫',
			'💯',
			'💢',
			'♨️',
			'🚷',
			'🚯',
			'🚳',
			'🚱',
			'🔞',
			'📵',
			'🚭',
			'❗',
			'❕',
			'❓',
			'❔',
			'‼️',
			'⁉️',
			'🔅',
			'🔆',
			'〽️',
			'⚠️',
			'🚸',
			'🔱',
			'⚜️',
			'🔰',
			'♻️',
			'✅',
			'🈯',
			'💹',
			'❇️',
			'✳️',
			'❎',
			'🌐',
			'💠',
			'Ⓜ️',
			'🌀',
			'💤',
			'🏧',
			'🚾',
			'♿',
			'🅿️',
			'🛗',
			'🈳',
			'🈂️',
			'🛂',
			'🛃',
			'🛄',
			'🛅',
			'🚹',
			'🚺',
			'🚼',
			'⚧️',
			'🚻',
			'🚮',
			'🎦',
			'📶',
			'🈁',
			'🔣',
			'ℹ️',
			'🔤',
			'🔡',
			'🔠',
			'🆖',
			'🆗',
			'🆙',
			'🆒',
			'🆕',
			'🆓',
			'0️⃣',
			'1️⃣',
			'2️⃣',
			'3️⃣',
			'4️⃣',
			'5️⃣',
			'6️⃣',
			'7️⃣',
			'8️⃣',
			'9️⃣',
			'🔟',
			'🔢',
			'#️⃣',
			'*️⃣',
			'⏏️',
			'▶️',
			'⏸️',
			'⏯️',
			'⏹️',
			'⏺️',
			'⏭️',
			'⏮️',
			'⏩',
			'⏪',
			'⏫',
			'⏬',
			'◀️',
			'🔼',
			'🔽',
			'➡️',
			'⬅️',
			'⬆️',
			'⬇️',
			'↗️',
			'↘️',
			'↙️',
			'↖️',
			'↕️',
			'↔️',
			'↪️',
			'↩️',
			'⤴️',
			'⤵️',
			'🔀',
			'🔁',
			'🔂',
			'🔄',
			'🔃',
			'🎵',
			'🎶',
			'➕',
			'➖',
			'➗',
			'✖️',
			'🟰',
			'♾️',
			'💲',
			'💱',
			'™️',
			'©️',
			'®️',
			'〰️',
			'➰',
			'➿',
			'🔚',
			'🔙',
			'🔛',
			'🔝',
			'🔜',
			'✔️',
			'☑️',
			'🔘',
			'🔴',
			'🟠',
			'🟡',
			'🟢',
			'🔵',
			'🟣',
			'⚫',
			'⚪',
			'🟤',
			'🔺',
			'🔻',
			'🔸',
			'🔹',
			'🔶',
			'🔷',
			'🔳',
			'🔲',
			'▪️',
			'▫️',
			'◾',
			'◽',
			'◼️',
			'◻️',
			'🟥',
			'🟧',
			'🟨',
			'🟩',
			'🟦',
			'🟪',
			'⬛',
			'⬜',
			'🟫',
			'🔈',
			'🔇',
			'🔉',
			'🔊',
			'🔔',
			'🔕',
			'📣',
			'📢',
			'💬',
			'💭',
			'🗯️',
			'♠️',
			'♣️',
			'♥️',
			'♦️',
			'🃏',
			'🎴',
			'🀄',
			'🕐',
			'🕑',
			'🕒',
			'🕓',
			'🕔',
			'🕕',
			'🕖',
			'🕗',
			'🕘',
			'🕙',
			'🕚',
			'🕛',
			'🕜',
			'🕝',
			'🕞',
			'🕟',
			'🕠',
			'🕡',
			'🕢',
			'🕣',
			'🕤',
			'🕥',
			'🕦',
			'🕧'
		]
	},
	{
		id: 'flags',
		name: 'Flags',
		icon: <Flag className='w-4 h-4' />,
		emojis: [
			'🏳️',
			'🏴',
			'🏴‍☠️',
			'🏁',
			'🚩',
			'🏳️‍🌈',
			'🏳️‍⚧️',
			'🇺🇳',
			'🇦🇫',
			'🇦🇽',
			'🇦🇱',
			'🇩🇿',
			'🇦🇸',
			'🇦🇩',
			'🇦🇴',
			'🇦🇮',
			'🇦🇶',
			'🇦🇬',
			'🇦🇷',
			'🇦🇲',
			'🇦🇼',
			'🇦🇺',
			'🇦🇹',
			'🇦🇿',
			'🇧🇸',
			'🇧🇭',
			'🇧🇩',
			'🇧🇧',
			'🇧🇾',
			'🇧🇪',
			'🇧🇿',
			'🇧🇯',
			'🇧🇲',
			'🇧🇹',
			'🇧🇴',
			'🇧🇦',
			'🇧🇼',
			'🇧🇷',
			'🇮🇴',
			'🇻🇬',
			'🇧🇳',
			'🇧🇬',
			'🇧🇫',
			'🇧🇮',
			'🇰🇭',
			'🇨🇲',
			'🇨🇦',
			'🇮🇨',
			'🇨🇻',
			'🇧🇶',
			'🇰🇾',
			'🇨🇫',
			'🇹🇩',
			'🇨🇱',
			'🇨🇳',
			'🇨🇽',
			'🇨🇨',
			'🇨🇴',
			'🇰🇲',
			'🇨🇬',
			'🇨🇩',
			'🇨🇰',
			'🇨🇷',
			'🇨🇮',
			'🇭🇷',
			'🇨🇺',
			'🇨🇼',
			'🇨🇾',
			'🇨🇿',
			'🇩🇰',
			'🇩🇯',
			'🇩🇲',
			'🇩🇴',
			'🇪🇨',
			'🇪🇬',
			'🇸🇻',
			'🇬🇶',
			'🇪🇷',
			'🇪🇪',
			'🇸🇿',
			'🇪🇹',
			'🇪🇺',
			'🇫🇰',
			'🇫🇴',
			'🇫🇯',
			'🇫🇮',
			'🇫🇷',
			'🇬🇫',
			'🇵🇫',
			'🇹🇫',
			'🇬🇦',
			'🇬🇲',
			'🇬🇪',
			'🇩🇪',
			'🇬🇭',
			'🇬🇮',
			'🇬🇷',
			'🇬🇱',
			'🇬🇩',
			'🇬🇵',
			'🇬🇺',
			'🇬🇹',
			'🇬🇬',
			'🇬🇳',
			'🇬🇼',
			'🇬🇾',
			'🇭🇹',
			'🇭🇳',
			'🇭🇰',
			'🇭🇺',
			'🇮🇸',
			'🇮🇳',
			'🇮🇩',
			'🇮🇷',
			'🇮🇶',
			'🇮🇪',
			'🇮🇲',
			'🇮🇱',
			'🇮🇹',
			'🇯🇲',
			'🇯🇵',
			'🎌',
			'🇯🇪',
			'🇯🇴',
			'🇰🇿',
			'🇰🇪',
			'🇰🇮',
			'🇽🇰',
			'🇰🇼',
			'🇰🇬',
			'🇱🇦',
			'🇱🇻',
			'🇱🇧',
			'🇱🇸',
			'🇱🇷',
			'🇱🇾',
			'🇱🇮',
			'🇱🇹',
			'🇱🇺',
			'🇲🇴',
			'🇲🇬',
			'🇲🇼',
			'🇲🇾',
			'🇲🇻',
			'🇲🇱',
			'🇲🇹',
			'🇲🇭',
			'🇲🇶',
			'🇲🇷',
			'🇲🇺',
			'🇾🇹',
			'🇲🇽',
			'🇫🇲',
			'🇲🇩',
			'🇲🇨',
			'🇲🇳',
			'🇲🇪',
			'🇲🇸',
			'🇲🇦',
			'🇲🇿',
			'🇲🇲',
			'🇳🇦',
			'🇳🇷',
			'🇳🇵',
			'🇳🇱',
			'🇳🇨',
			'🇳🇿',
			'🇳🇮',
			'🇳🇪',
			'🇳🇬',
			'🇳🇺',
			'🇳🇫',
			'🇰🇵',
			'🇲🇰',
			'🇲🇵',
			'🇳🇴',
			'🇴🇲',
			'🇵🇰',
			'🇵🇼',
			'🇵🇸',
			'🇵🇦',
			'🇵🇬',
			'🇵🇾',
			'🇵🇪',
			'🇵🇭',
			'🇵🇳',
			'🇵🇱',
			'🇵🇹',
			'🇵🇷',
			'🇶🇦',
			'🇷🇪',
			'🇷🇴',
			'🇷🇺',
			'🇷🇼',
			'🇼🇸',
			'🇸🇲',
			'🇸🇹',
			'🇸🇦',
			'🇸🇳',
			'🇷🇸',
			'🇸🇨',
			'🇸🇱',
			'🇸🇬',
			'🇸🇽',
			'🇸🇰',
			'🇸🇮',
			'🇬🇸',
			'🇸🇧',
			'🇸🇴',
			'🇿🇦',
			'🇰🇷',
			'🇸🇸',
			'🇪🇸',
			'🇱🇰',
			'🇧🇱',
			'🇸🇭',
			'🇰🇳',
			'🇱🇨',
			'🇵🇲',
			'🇻🇨',
			'🇸🇩',
			'🇸🇷',
			'🇸🇪',
			'🇨🇭',
			'🇸🇾',
			'🇹🇼',
			'🇹🇯',
			'🇹🇿',
			'🇹🇭',
			'🇹🇱',
			'🇹🇬',
			'🇹🇰',
			'🇹🇴',
			'🇹🇹',
			'🇹🇳',
			'🇹🇷',
			'🇹🇲',
			'🇹🇨',
			'🇹🇻',
			'🇻🇮',
			'🇺🇬',
			'🇺🇦',
			'🇦🇪',
			'🇬🇧',
			'🏴󠁧󠁢󠁥󠁮󠁧󠁿',
			'🏴󠁧󠁢󠁳󠁣󠁴󠁿',
			'🏴󠁧󠁢󠁷󠁬󠁳󠁿',
			'🇺🇸',
			'🇺🇾',
			'🇺🇿',
			'🇻🇺',
			'🇻🇦',
			'🇻🇪',
			'🇻🇳',
			'🇼🇫',
			'🇪🇭',
			'🇾🇪',
			'🇿🇲',
			'🇿🇼'
		]
	}
]

export default function EmojiListPage() {
	const [mounted, setMounted] = useState(false)
	const [searchTerm, setSearchTerm] = useState('')
	const [selectedCategory, setSelectedCategory] = useState('smileys')
	const [recentEmojis, setRecentEmojis] = useState<string[]>([])
	const [copiedEmoji, setCopiedEmoji] = useState<string | null>(null)
	const [downloadingEmoji, setDownloadingEmoji] = useState<string | null>(null)

	useEffect(() => {
		setMounted(true)
		// Load recent emojis from localStorage
		const saved = localStorage.getItem('recentEmojis')
		if (saved) {
			setRecentEmojis(JSON.parse(saved))
		}
	}, [])

	const copyEmoji = (emoji: string) => {
		navigator.clipboard.writeText(emoji)
		setCopiedEmoji(emoji)
		toast.success(`Copied ${emoji} to clipboard!`)

		// Add to recent emojis
		const newRecent = [emoji, ...recentEmojis.filter(e => e !== emoji)].slice(
			0,
			30
		)
		setRecentEmojis(newRecent)
		localStorage.setItem('recentEmojis', JSON.stringify(newRecent))

		setTimeout(() => setCopiedEmoji(null), 2000)
	}

	const downloadEmojiAsImage = async (emoji: string) => {
		setDownloadingEmoji(emoji)

		try {
			// Create canvas
			const canvas = document.createElement('canvas')
			const ctx = canvas.getContext('2d')
			if (!ctx) throw new Error('Canvas not supported')

			// Set canvas size
			const size = 256
			canvas.width = size
			canvas.height = size

			// Set background (transparent)
			ctx.clearRect(0, 0, size, size)

			// Configure text
			ctx.font = `${size * 0.8}px Arial, sans-serif`
			ctx.textAlign = 'center'
			ctx.textBaseline = 'middle'
			ctx.fillStyle = '#000000'

			// Draw emoji
			ctx.fillText(emoji, size / 2, size / 2)

			// Convert to blob
			canvas.toBlob(blob => {
				if (!blob) {
					toast.error('Failed to create image')
					return
				}

				// Create download link
				const url = URL.createObjectURL(blob)
				const a = document.createElement('a')
				a.href = url
				a.download = `emoji-${emoji.codePointAt(0)?.toString(16) || 'unknown'}.png`
				a.click()

				// Cleanup
				URL.revokeObjectURL(url)
				toast.success(`Downloaded ${emoji} as PNG!`)

				// Add to recent emojis
				const newRecent = [
					emoji,
					...recentEmojis.filter(e => e !== emoji)
				].slice(0, 30)
				setRecentEmojis(newRecent)
				localStorage.setItem('recentEmojis', JSON.stringify(newRecent))
			}, 'image/png')
		} catch (error) {
			toast.error('Failed to download emoji')
		} finally {
			setDownloadingEmoji(null)
		}
	}

	const getFilteredEmojis = () => {
		if (!searchTerm) {
			return (
				emojiCategories.find(cat => cat.id === selectedCategory)?.emojis || []
			)
		}

		// Search across all categories
		const allEmojis = emojiCategories.flatMap(cat => cat.emojis)
		return allEmojis.filter(emoji => {
			// Simple search - in a real app, you'd want to search by emoji names/keywords
			return emoji.toLowerCase().includes(searchTerm.toLowerCase())
		})
	}

	const clearRecentEmojis = () => {
		setRecentEmojis([])
		localStorage.removeItem('recentEmojis')
		toast.success('Recent emojis cleared')
	}

	if (!mounted) {
		return (
			<div className='max-w-6xl mx-auto space-y-8'>
				<div>
					<h1 className='text-3xl font-bold tracking-tight mb-2'>Emoji List</h1>
					<p className='text-muted-foreground'>
						Click to copy emojis instantly to your clipboard
					</p>
				</div>
				<div className='animate-pulse space-y-8'>
					<div className='h-96 bg-muted rounded-lg'></div>
				</div>
			</div>
		)
	}

	const filteredEmojis = getFilteredEmojis()

	return (
		<div className='max-w-6xl mx-auto space-y-8'>
			{/* Device Support Info */}
			<Card className='p-4 bg-muted/50'>
				<p className='text-sm text-muted-foreground'>
					<strong>Supported on:</strong> iOS, Android 4.4+, Windows 8.1+, macOS,
					and modern browsers. Unicode 14.0 includes 1,800+ emojis across 8
					categories.
				</p>
			</Card>

			{/* Search Bar */}
			<Card className='p-4'>
				<div className='relative'>
					<Search className='absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground' />
					<Input
						value={searchTerm}
						onChange={e => setSearchTerm(e.target.value)}
						placeholder='Search emojis...'
						className='pl-10'
					/>
				</div>
			</Card>

			{/* Recent Emojis */}
			{recentEmojis.length > 0 && !searchTerm && (
				<Card className='p-6'>
					<div className='flex items-center justify-between mb-4'>
						<div className='flex items-center gap-2'>
							<Clock className='w-4 h-4 text-muted-foreground' />
							<h3 className='font-semibold'>Recently Used</h3>
							<Badge variant='secondary'>{recentEmojis.length}</Badge>
						</div>
						<Button onClick={clearRecentEmojis} variant='ghost' size='sm'>
							Clear
						</Button>
					</div>
					<div className='flex flex-wrap gap-2'>
						{recentEmojis.map((emoji, index) => (
							<div key={`${emoji}-${index}`} className='relative group'>
								<Button
									onClick={() => copyEmoji(emoji)}
									variant={copiedEmoji === emoji ? 'default' : 'outline'}
									size='lg'
									className='h-12 w-12 p-0 text-2xl hover:scale-110 transition-transform'
								>
									{emoji}
								</Button>
								<Button
									onClick={() => downloadEmojiAsImage(emoji)}
									size='icon'
									variant='secondary'
									className='absolute -top-2 -right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity'
									disabled={downloadingEmoji === emoji}
								>
									<Download className='h-3 w-3' />
								</Button>
							</div>
						))}
					</div>
				</Card>
			)}

			{/* Categories */}
			{!searchTerm && (
				<Tabs value={selectedCategory} onValueChange={setSelectedCategory}>
					<TabsList className='grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 w-full'>
						{emojiCategories.map(category => (
							<TabsTrigger
								key={category.id}
								value={category.id}
								className='text-xs'
							>
								<span className='flex items-center gap-1'>
									{category.icon}
									<span className='hidden sm:inline'>
										{category.name.split(' ')[0]}
									</span>
								</span>
							</TabsTrigger>
						))}
					</TabsList>

					{emojiCategories.map(category => (
						<TabsContent key={category.id} value={category.id} className='mt-6'>
							<Card className='p-6'>
								<h3 className='font-semibold mb-4 flex items-center gap-2'>
									{category.icon}
									{category.name}
									<Badge variant='secondary'>
										{category.emojis.length} emojis
									</Badge>
								</h3>
								<div className='grid grid-cols-8 sm:grid-cols-12 md:grid-cols-16 lg:grid-cols-20 gap-2'>
									{category.emojis.map((emoji, index) => (
										<div key={`${emoji}-${index}`} className='relative group'>
											<Button
												onClick={() => copyEmoji(emoji)}
												variant={copiedEmoji === emoji ? 'default' : 'ghost'}
												size='lg'
												className='h-12 w-12 p-0 text-2xl hover:scale-110 transition-transform'
											>
												{emoji}
											</Button>
											{copiedEmoji === emoji && (
												<div className='absolute -top-8 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground text-xs px-2 py-1 rounded z-10'>
													Copied!
												</div>
											)}
											<Button
												onClick={() => downloadEmojiAsImage(emoji)}
												size='icon'
												variant='secondary'
												className='absolute -top-2 -right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity'
												disabled={downloadingEmoji === emoji}
											>
												<Download className='h-3 w-3' />
											</Button>
										</div>
									))}
								</div>
							</Card>
						</TabsContent>
					))}
				</Tabs>
			)}

			{/* Search Results */}
			{searchTerm && (
				<Card className='p-6'>
					<h3 className='font-semibold mb-4'>
						Search Results
						<Badge variant='secondary' className='ml-2'>
							{filteredEmojis.length} emojis
						</Badge>
					</h3>
					{filteredEmojis.length > 0 ? (
						<div className='grid grid-cols-8 sm:grid-cols-12 md:grid-cols-16 lg:grid-cols-20 gap-2'>
							{filteredEmojis.map((emoji, index) => (
								<div key={`${emoji}-${index}`} className='relative group'>
									<Button
										onClick={() => copyEmoji(emoji)}
										variant={copiedEmoji === emoji ? 'default' : 'ghost'}
										size='lg'
										className='h-12 w-12 p-0 text-2xl hover:scale-110 transition-transform'
									>
										{emoji}
									</Button>
									{copiedEmoji === emoji && (
										<div className='absolute -top-8 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground text-xs px-2 py-1 rounded z-10'>
											Copied!
										</div>
									)}
									<Button
										onClick={() => downloadEmojiAsImage(emoji)}
										size='icon'
										variant='secondary'
										className='absolute -top-2 -right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity'
										disabled={downloadingEmoji === emoji}
									>
										<Download className='h-3 w-3' />
									</Button>
								</div>
							))}
						</div>
					) : (
						<p className='text-center text-muted-foreground py-8'>
							No emojis found for "{searchTerm}"
						</p>
					)}
				</Card>
			)}

			{/* Info Section */}
			<Card className='p-6 bg-muted/50'>
				<h3 className='font-semibold mb-3'>About This Tool</h3>
				<div className='grid md:grid-cols-2 gap-4 text-sm text-muted-foreground'>
					<div>
						<h4 className='font-medium text-foreground mb-2'>How to Use</h4>
						<ul className='space-y-1'>
							<li>• Click any emoji to copy it to your clipboard</li>
							<li>• Hover and click the download icon to save as PNG image</li>
							<li>• Use the search bar to find specific emojis</li>
							<li>• Browse by category using the tabs</li>
							<li>• Your recent emojis are saved automatically</li>
						</ul>
					</div>
					<div>
						<h4 className='font-medium text-foreground mb-2'>Features</h4>
						<ul className='space-y-1'>
							<li>• 1,800+ emojis from Unicode 14.0</li>
							<li>• Instant copy with visual feedback</li>
							<li>• Download emojis as PNG images (256x256)</li>
							<li>• Recent emojis history (last 30)</li>
							<li>• Works on all modern devices</li>
						</ul>
					</div>
				</div>
				<p className='text-xs mt-4'>
					If your device doesn't support certain emojis, they may appear as
					boxes or question marks. Update your system for the latest emoji
					support.
				</p>
				<div className='mt-4 p-4 bg-background rounded-lg'>
					<h4 className='font-medium text-foreground mb-2 text-sm'>
						Using Emojis in Social Media
					</h4>
					<p className='text-xs'>
						For social media platforms like Facebook, Twitter, and Instagram,
						simply copy the emoji and paste it directly into your posts,
						comments, or bio. The download feature is useful when you need emoji
						images for blogs, websites, or applications that don't support
						Unicode emojis directly.
					</p>
				</div>
			</Card>
		</div>
	)
}
